<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Guess The Number!!</h1>
    Ho generato un numero casuale... prova a indovinarlo!
    Hai ancora 5 tentativi

    <form action="" method="get">
        <input type="number" name="user_guess">
        <input id="button" type="button" name="guess" value="indovina">
    </form>

    <script>
        let button = document.querySelector("#button")

        button.addEventListener("click", function(event){
            console.log(event)
            // Questa funzione viene eseguita SOLO dopo che l'utente clicca sul button
            // 1. Prendo l'elemento HTML in cui l'utente ha scritto il numeri
            // 2. Trasformo in intero il numero
            // 3. Controllo valori
            // 4. la console scrivo i risultati --> PER IL MOMENTO

            
        })

    </script>

    <script type="text/javascript">
        function RandomNumber(min, max) {
        let casualNumber = Math.random()
        casualNumber = casualNumber * max
        casualNumber = parseInt(casualNumber)+min
        return casualNumber
        }

        function sanitize (number){
            number = parseInt(number)
            return number
        }

        function MagicNumber (min, max){
            let n = 0
            n = Math.random()
            n = n * (max-min)
            n = parseInt(n)+min
            console.log(n)
            return n
        }
        let min = 1
        let max = 100
        let tries = 0
        let casualNumber = MagicNumber(min, max)
        let win = false

        while(tries<5){
            // let inputNumber = prompt("Indovina il numero casuale compreso tra 1 e 100!")
            inputNumber = sanitize(inputNumber)

            while (inputNumber <= 0 || inputNumber > 100 || isNaN(inputNumber) || inputNumber === null){
                console.log("Inserire un numero tra 1 e 100")
                // inputNumber = prompt("Indovina il numero casuale compreso tra 1 e 100!")
            }
            inputNumber = sanitize(inputNumber)
            

            if (inputNumber === casualNumber){
                console.log("Bravo hai vinto!")
                tries = 5
                win = true

            }else{
                if (inputNumber > casualNumber){
                    console.log("Numero troppo grande!")
                    tries += 1
                }else{
                    console.log("Numero troppo piccolo!")
                    tries += 1
                }
            }   
        }
        if (win === false){
            console.log("Hai perso!, il numero randomico era: "+ casualNumber)
        }

    </script>
</body>
</html>